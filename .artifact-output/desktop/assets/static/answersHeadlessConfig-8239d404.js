var k=Object.defineProperty;var T=(t,e,n)=>e in t?k(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u=(t,e,n)=>(T(t,typeof e!="symbol"?e+"":e,n),n);import{r as D,a as R}from"./index-780a0227.js";import{g,n as E,H as L,o as S,p as j,j as m,q as x,F as O,L as C,c as I,t as A}from"./PageLayout-303b7406.js";const h=t=>{var n;return g().name==="browser"&&t===((n=window==null?void 0:window.location)==null?void 0:n.hostname)};function J(t){var e=new L;return new E(t,e)}class U{constructor(e,n,r){u(this,"_optedIn");u(this,"_conversionTrackingEnabled",!1);u(this,"_cookieManager");u(this,"_analyticsReporter");u(this,"_pageViewFired",!1);u(this,"_enableDebugging",!1);this.templateData=e,this.pageDomain=r,this._optedIn=!n,this.makeReporter(),this.pageView()}calculatePageType(){var i,a,p,o;const e=!!((a=(i=this.templateData.document)==null?void 0:i.__)!=null&&a.staticPage),n=!!((o=(p=this.templateData.document)==null?void 0:p.__)!=null&&o.entityPageSet);let r;if(e)r={name:"static",staticPageId:this.templateData.document.__.name};else if(n)r={name:"entity",pageSetId:this.templateData.document.__.name,id:this.templateData.document.uid};else throw new Error("invalid document type");return r}makeReporter(){var n,r,i,a;if(g().name!=="browser"||!this._optedIn)return;const e=h((r=(n=this.templateData)==null?void 0:n.document)==null?void 0:r.siteInternalHostName)||h((a=(i=this.templateData)==null?void 0:i.document)==null?void 0:a.siteDomain);this._analyticsReporter=J({businessId:this.templateData.document.businessId,pageType:this.calculatePageType(),pageUrl:window.location.href,production:e,referrer:document.referrer,siteId:this.templateData.document.siteId,pageDomain:this.pageDomain}),this.setDebugEnabled(this._enableDebugging)}canTrack(){return g().name==="browser"&&this._optedIn&&!!this._analyticsReporter}setupConversionTracking(){var e;this._cookieManager=new S,(e=this._analyticsReporter)==null||e.setConversionTrackingEnabled(!0,this._cookieManager.setAndGetYextCookie())}enableTrackingCookie(){this._conversionTrackingEnabled=!0,this.canTrack()&&this.setupConversionTracking()}identify(e){var n;this.canTrack()&&((n=this._analyticsReporter)==null||n.setVisitor(e))}async optIn(){this._optedIn=!0,this.makeReporter(),this._conversionTrackingEnabled&&!this._cookieManager&&this.setupConversionTracking(),this._pageViewFired||await this.pageView()}async pageView(){var e;if(!this.canTrack())return Promise.resolve(void 0);await((e=this._analyticsReporter)==null?void 0:e.pageView()),this._pageViewFired=!0}async track(e,n){var r;if(!this.canTrack())return Promise.resolve();await((r=this._analyticsReporter)==null?void 0:r.track({eventType:j(e)},n))}setDebugEnabled(e){var n;this._enableDebugging=e,(n=this._analyticsReporter)==null||n.setDebugEnabled(e)}trackClick(e,n){return r=>{if(!this.canTrack())return Promise.resolve();if(r.target===null||r.defaultPrevented)return this.track(e,n);const i=r.target;if(i.href===null||i.href===void 0)return this.track(e,n);const a=new URL(i.href);if(a.protocol==="mailto:"||a.protocol==="tel:"||a.protocol==="javascript:"||a.hostname===window.location.hostname)return this.track(e,n);if(i.target&&!i.target.match(/^_(self|parent|top)$/i)||r.ctrlKey||r.shiftKey||r.metaKey)return this.track(e,n);r.preventDefault();const o=()=>{window.location.assign(a)},c=new Promise(s=>{setTimeout(()=>{s()},1e3)});return Promise.race([this.track(e,n),c]).then(o)}}}function ee(t){var d;const{children:e,requireOptIn:n,enableTrackingCookie:r,enableDebugging:i,templateData:a,pageDomain:p}=t,o=D.exports.useRef(null);o.current===null&&(o.current=new U(a,n,p));const c=o.current;r&&c.enableTrackingCookie();let s=V();return g().name==="node"&&(s=s||((d=process.env)==null?void 0:d.NODE_ENV)==="development"),c.setDebugEnabled(i!=null?i:s),m(x.Provider,{value:c,children:e})}function V(){return g().name!=="browser"||typeof window===void 0?!1:!!new URL(window.location.href).searchParams.get("xYextDebug")}const te=t=>{const{buttonText:e,latitude:n,address:r,longitude:i}=t;return m(O,{children:m(C,{"data-ya-track":"getdirections",eventName:"getdirections",className:"btn notHighligh",onClick:()=>{var o=null;if(r.city?o=r.city:r.region?o=r.region:o=r.country,navigator.geolocation){const c=s=>{var d="https://www.google.com/maps/dir/?api=1&destination="+n+","+i+"&origin="+o+",UK";window.open(d,"_blank")};navigator.geolocation.getCurrentPosition(function(s){console.log("current lat lang");let d=s.coords.latitude,w=s.coords.longitude,P="https://www.google.com/maps/dir/?api=1&destination="+n+","+i+"&origin="+d+","+w;window.open(P,"_blank")},c,{timeout:1e4})}},href:"javascript:void(0);",rel:"noopener noreferrer",conversionDetails:I,children:e})})};var q={exports:{}},N="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",F=N,M=F;function f(){}function y(){}y.resetWarningCache=f;var H=function(){function t(r,i,a,p,o,c){if(c!==M){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:y,resetWarningCache:f};return n.PropTypes=n,n};q.exports=H();var K={},l={};const G=R(A);var W=G.jsx;Object.defineProperty(l,"__esModule",{value:!0});l.helmetJsonLdProp=l.jsonLdScriptProps=l.JsonLd=void 0;function $(t){return W("script",{...Object.assign({},b(t.item,t))})}l.JsonLd=$;function b(t,e={}){return{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(t,v,e.space)}}}l.jsonLdScriptProps=b;function B(t,e={}){return{type:"application/ld+json",innerHTML:JSON.stringify(t,v,e.space)}}l.helmetJsonLdProp=B;const _=Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"}),Y=new RegExp(`[${Object.keys(_).join("")}]`,"g"),z=t=>_[t],v=(()=>(t,e)=>{switch(typeof e){case"object":return e===null?void 0:e;case"number":case"boolean":case"bigint":return e;case"string":return e.replace(Y,z);default:return}})();(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.jsonLdScriptProps=t.JsonLd=t.helmetJsonLdProp=void 0;var e=l;Object.defineProperty(t,"helmetJsonLdProp",{enumerable:!0,get:function(){return e.helmetJsonLdProp}}),Object.defineProperty(t,"JsonLd",{enumerable:!0,get:function(){return e.JsonLd}}),Object.defineProperty(t,"jsonLdScriptProps",{enumerable:!0,get:function(){return e.jsonLdScriptProps}})})(K);const ne={limit:3,locale:"en",apiKey:"8d8ed8b7874eec0e4bce16b66ede9857",verticalKey:"locations",experienceKey:"tropical-smoothie-cafe",experienceVersion:"STAGING",locationRadius:804672,sessionTrackingEnabled:!0,endpoints:{universalSearch:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/query",verticalSearch:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/vertical/query",questionSubmission:"https://liveapi-sandbox.yext.com/v2/accounts/me/createQuestion",universalAutocomplete:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/autocomplete",verticalAutocomplete:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/vertical/autocomplete",filterSearch:"https://liveapi-sandbox.yext.com/v2/accounts/me/answers/filtersearch"}};export{ee as A,te as G,ne as a,q as p,K as s};
